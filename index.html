
<!DOCTYPE html>
<html>
	<head>
		<title>Book Arranger</title>
		<link rel="stylesheet" href="main.css">

		<script>

			const pageWidth = 400;
			const pageHeight = 300;

			class PatternPage extends HTMLElement {
				constructor() {
					super();

					const shadow = this.attachShadow({mode: 'open'});
					const template = document.querySelector("#preview-page").content;
					//shadow.appendChild(template.cloneNode(true));

					//const addPageButton = document.createElement("button")
					//addPageButton.textContent = "Add Page";
					//addPageButton.addEventListener(() => this.addPage();)
					//shadow.appendChild(addPageButton);

					//this.pages = [];

					//console.log(this.shadowRoot.querySelector("#prev"));
					this.render();
				}

				e() {
					console.log("Egg");
				}

				/// I can put my own methods on here..... curious....
				addPlacement() {
					//this.pages.push({});
					const e = document.createElement("p");
					e.textContent = "P";


					const elem = this.shadowRoot.querySelector(".preview-page")
					console.log(elem);
					elem.appendChild(e);
				}

				removeThisPage() {
					this.remove();
				}

				render() {
					this.shadowRoot.innerHTML = `
						<link rel="stylesheet" href="main.css">
						<div class="preview-page" style="width: ${pageWidth}px; height: ${pageHeight}px">
						<p>Page</p>
						</div>
						<button onClick="this.getRootNode().host.addPlacement()">Add Placement</button>
						<button onClick="this.getRootNode().host.removeThisPage()">Remove!</button>
					`;
				}
			}

			customElements.define("pattern-page", PatternPage);


			const addPage = () => {

				const pattern_page = document.createElement("pattern-page");

				document.querySelector("#pattern-preview").appendChild(pattern_page);
			}
		</script>

	</head>
	<body>

		<template id="preview-page">
		</template>

		<header></header>
		<main>
			
			<button onclick="addPage()">Add Page</button>

			<section id="pattern-preview">
			</section>


		</main>


	</body>
</html>
